{
    "info": {
        "name": "Pawsitive API",
        "_postman_id": "pawsitive-api-v1",
        "description": "Pawsitive RESTful API — 30 endpoints as defined in Pawsitive-API-Endpoints.md.\n\nBase URL: `{{base_url}}` = `http://localhost:8000/api/v1`\n\n**Quick Start:**\n1. Import `Pawsitive_Environment.json`\n2. Run **Auth / Login as Admin** → token saved automatically\n3. Run **Auth / Register** or **Login as Customer** → customer_token saved\n4. Run **Admin / Pets / Create Pet** to seed test data",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Health",
            "item": [
                {
                    "name": "GET /health",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/health"
                    }
                }
            ]
        },
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "POST /register",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('201 Created', () => pm.response.to.have.status(201));",
                                    "const json = pm.response.json();",
                                    "if (json.data && json.data.token) {",
                                    "  pm.environment.set('customer_token', json.data.token);",
                                    "  pm.environment.set('customer_id', json.data.user.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/register",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Test Customer\",\n  \"email\": \"customer@test.com\",\n  \"password\": \"Password@123\",\n  \"password_confirmation\": \"Password@123\",\n  \"phone\": \"01700000000\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /register — Duplicate Email (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 duplicate email', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/register",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Dupe\",\n  \"email\": \"admin@pawsitive.com\",\n  \"password\": \"Admin@12345\",\n  \"password_confirmation\": \"Admin@12345\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /login — Customer",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "const json = pm.response.json();",
                                    "pm.environment.set('customer_token', json.data.token);",
                                    "pm.environment.set('customer_id', json.data.user.id);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/login",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"customer@test.com\",\n  \"password\": \"Password@123\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /login — Admin",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "const json = pm.response.json();",
                                    "pm.environment.set('admin_token', json.data.token);",
                                    "pm.environment.set('admin_id', json.data.user.id);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/login",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@pawsitive.com\",\n  \"password\": \"Admin@12345\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /login — Wrong Password (lockout test)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 or 429', () => pm.expect(pm.response.code).to.be.oneOf([422, 429]));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/login",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@pawsitive.com\",\n  \"password\": \"WrongPass!\"\n}"
                        }
                    }
                },
                {
                    "name": "GET /profile",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has email and role', () => {",
                                    "  const u = pm.response.json().data;",
                                    "  pm.expect(u.email).to.be.a('string');",
                                    "  pm.expect(u.role).to.be.a('string');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/profile"
                    }
                },
                {
                    "name": "GET /profile — No Token (expect 401)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('401 Unauthenticated', () => pm.response.to.have.status(401));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/profile"
                    }
                },
                {
                    "name": "POST /logout",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/logout"
                    }
                }
            ]
        },
        {
            "name": "Pets (Public)",
            "item": [
                {
                    "name": "GET /pets — Default (12/page)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Paginated', () => {",
                                    "  const j = pm.response.json();",
                                    "  pm.expect(j.data).to.be.an('array');",
                                    "  pm.expect(j.meta.total).to.be.a('number');",
                                    "  if (j.data.length > 0) pm.environment.set('pet_id', j.data[0].id);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/pets"
                    }
                },
                {
                    "name": "GET /pets — Filter: q + species[] + gender",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/pets?q=golden&species[]=dog&gender=male",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "golden"
                                },
                                {
                                    "key": "species[]",
                                    "value": "dog"
                                },
                                {
                                    "key": "gender",
                                    "value": "male"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /pets — Filter: price_min + price_max",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/pets?price_min=5000&price_max=30000",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "price_min",
                                    "value": "5000"
                                },
                                {
                                    "key": "price_max",
                                    "value": "30000"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /pets — Filter: age_min + age_max + size[]",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/pets?age_min=2&age_max=24&size[]=medium&size[]=large",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "age_min",
                                    "value": "2"
                                },
                                {
                                    "key": "age_max",
                                    "value": "24"
                                },
                                {
                                    "key": "size[]",
                                    "value": "medium"
                                },
                                {
                                    "key": "size[]",
                                    "value": "large"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /pets — Filter: behaviour[] + sort_by + sort_order",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/pets?behaviour[]=friendly&behaviour[]=playful&sort_by=price&sort_order=asc",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "behaviour[]",
                                    "value": "friendly"
                                },
                                {
                                    "key": "behaviour[]",
                                    "value": "playful"
                                },
                                {
                                    "key": "sort_by",
                                    "value": "price"
                                },
                                {
                                    "key": "sort_order",
                                    "value": "asc"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /pets — Filter: latitude + longitude + radius_km",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/pets?latitude=23.8103&longitude=90.4125&radius_km=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "latitude",
                                    "value": "23.8103"
                                },
                                {
                                    "key": "longitude",
                                    "value": "90.4125"
                                },
                                {
                                    "key": "radius_km",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /pets/{id}",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has images and behaviours', () => {",
                                    "  const d = pm.response.json().data;",
                                    "  pm.expect(d).to.have.property('images');",
                                    "  pm.expect(d).to.have.property('behaviours');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/pets/{{pet_id}}"
                    }
                },
                {
                    "name": "GET /pets/{id} — Not Found (expect 404)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('404', () => pm.response.to.have.status(404));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/pets/00000000-0000-0000-0000-000000000000"
                    }
                }
            ]
        },
        {
            "name": "Cart",
            "item": [
                {
                    "name": "GET /cart (Guest via X-Session-Id)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "X-Session-Id",
                                "value": "{{session_id}}"
                            }
                        ],
                        "url": "{{base_url}}/cart"
                    }
                },
                {
                    "name": "POST /cart/items — Add Pet (Guest)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('201 or 422', () => pm.expect(pm.response.code).to.be.oneOf([201, 422]));",
                                    "if (pm.response.code === 201) {",
                                    "  const item = pm.response.json().data;",
                                    "  pm.environment.set('cart_item_id', item.id);",
                                    "  pm.test('locked_until present', () => pm.expect(item.locked_until).to.be.a('string'));",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Session-Id",
                                "value": "{{session_id}}"
                            }
                        ],
                        "url": "{{base_url}}/cart/items",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"pet_id\": \"{{pet_id}}\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /cart/items — Add Non-Existent Pet (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 for unknown pet', () => pm.expect(pm.response.code).to.be.oneOf([422, 404]));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Session-Id",
                                "value": "{{session_id}}"
                            }
                        ],
                        "url": "{{base_url}}/cart/items",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"pet_id\": \"00000000-0000-0000-0000-000000000000\"\n}"
                        }
                    }
                },
                {
                    "name": "DELETE /cart/items/{id} — Remove Item",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/cart/items/{{cart_item_id}}"
                    }
                },
                {
                    "name": "PUT /cart — Merge Guest Cart After Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/cart",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"session_id\": \"{{session_id}}\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "name": "Orders (Customer)",
            "item": [
                {
                    "name": "POST /orders — Place Order (COD)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('201 Created', () => pm.response.to.have.status(201));",
                                    "pm.test('Order number ORD-*', () => {",
                                    "  const d = pm.response.json().data;",
                                    "  pm.expect(d.order_number).to.match(/^ORD-/);",
                                    "  pm.environment.set('order_id', d.id);",
                                    "  pm.environment.set('order_number', d.order_number);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/orders",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"address_line\": \"123 Dhanmondi Road 8\",\n  \"city\": \"Dhaka\",\n  \"area\": \"Dhanmondi\",\n  \"delivery_fee\": 100,\n  \"payment_method\": \"cod\",\n  \"notes\": \"Call before delivery\"\n}"
                        }
                    }
                },
                {
                    "name": "POST /orders — Empty Cart (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 empty cart', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/orders",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"address_line\": \"Test\",\n  \"city\": \"Dhaka\",\n  \"delivery_fee\": 100,\n  \"payment_method\": \"cod\"\n}"
                        }
                    }
                },
                {
                    "name": "GET /orders — Order History",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Paginated', () => {",
                                    "  const j = pm.response.json();",
                                    "  pm.expect(j.data).to.be.an('array');",
                                    "  pm.expect(j.meta).to.have.property('total');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/orders"
                    }
                },
                {
                    "name": "GET /orders/{order_number}?email= — Track (Public)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has order_number and status', () => {",
                                    "  const d = pm.response.json().data;",
                                    "  pm.expect(d.order_number).to.be.a('string');",
                                    "  pm.expect(d.status).to.be.a('string');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/orders/{{order_number}}?email=customer@test.com",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                "{{order_number}}"
                            ],
                            "query": [
                                {
                                    "key": "email",
                                    "value": "customer@test.com"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /orders/{order_number} — Track Without Email",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/orders/{{order_number}}"
                    }
                },
                {
                    "name": "GET /orders/NOT-FOUND — Track Bad Number (expect 404)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('404', () => pm.response.to.have.status(404));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/orders/ORD-INVALID"
                    }
                }
            ]
        },
        {
            "name": "Admin — Pets",
            "item": [
                {
                    "name": "GET /admin/pets — List All (20/page)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Is array with meta', () => {",
                                    "  const j = pm.response.json();",
                                    "  pm.expect(j.data).to.be.an('array');",
                                    "  pm.expect(j.meta.total).to.be.a('number');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/pets?per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "pets"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "POST /admin/pets — Create Pet",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('201 Created', () => pm.response.to.have.status(201));",
                                    "pm.test('Admin pet ID saved', () => {",
                                    "  const d = pm.response.json().data;",
                                    "  pm.environment.set('admin_pet_id', d.id);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Bruno\",\n  \"species\": \"dog\",\n  \"breed\": \"Golden Retriever\",\n  \"age_months\": 8,\n  \"gender\": \"male\",\n  \"size\": \"large\",\n  \"color\": \"Golden\",\n  \"price\": 25000,\n  \"description\": \"Friendly puppy, vaccinated.\",\n  \"status\": \"available\",\n  \"latitude\": 23.8103,\n  \"longitude\": 90.4125,\n  \"location_name\": \"Dhaka, Bangladesh\",\n  \"behaviours\": [\"friendly\", \"playful\", \"house-trained\"]\n}"
                        }
                    }
                },
                {
                    "name": "POST /admin/pets — Missing Required Fields (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Incomplete Pet\"\n}"
                        }
                    }
                },
                {
                    "name": "GET /admin/pets/{id}",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}"
                    }
                },
                {
                    "name": "PUT /admin/pets/{id} — Full Update",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Price updated', () => {",
                                    "  pm.expect(parseFloat(pm.response.json().data.price)).to.eql(27000);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Bruno\",\n  \"species\": \"dog\",\n  \"breed\": \"Golden Retriever\",\n  \"age_months\": 10,\n  \"gender\": \"male\",\n  \"size\": \"large\",\n  \"color\": \"Golden\",\n  \"price\": 27000,\n  \"description\": \"Updated: vaccinated and microchipped.\",\n  \"status\": \"available\",\n  \"latitude\": 23.8103,\n  \"longitude\": 90.4125,\n  \"behaviours\": [\"friendly\", \"calm\"]\n}"
                        }
                    }
                },
                {
                    "name": "POST /admin/pets/{id}/images — Upload Image",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}/images",
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "images[]",
                                    "type": "file",
                                    "src": "",
                                    "description": "Select JPG/PNG/WebP ≤ 5 MB"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "PATCH /admin/pets/{petId}/images/{imageId}/thumbnail",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}/images/{{image_id}}/thumbnail"
                    }
                },
                {
                    "name": "DELETE /admin/pets/{petId}/images/{imageId}",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}/images/{{image_id}}"
                    }
                },
                {
                    "name": "DELETE /admin/pets/{id} — Soft Delete",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/pets/{{admin_pet_id}}"
                    }
                }
            ]
        },
        {
            "name": "Admin — Orders",
            "item": [
                {
                    "name": "GET /admin/orders — All Orders (25/page)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has pagination', () => pm.expect(pm.response.json().meta.total).to.be.a('number'));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/orders?per_page=25",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "25"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /admin/orders — Filter by status=pending",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/orders?status=pending",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "pending"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /admin/orders/{id}",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}"
                    }
                },
                {
                    "name": "PATCH /admin/orders/{id}/status — pending → confirmed",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Status = confirmed', () => pm.expect(pm.response.json().data.status).to.eql('confirmed'));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}/status",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"confirmed\",\n  \"notes\": \"Payment verified.\"\n}"
                        }
                    }
                },
                {
                    "name": "PATCH /admin/orders/{id}/status — confirmed → out_for_delivery",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}/status",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"out_for_delivery\"\n}"
                        }
                    }
                },
                {
                    "name": "PATCH /admin/orders/{id}/status — out_for_delivery → delivered",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}/status",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"delivered\"\n}"
                        }
                    }
                },
                {
                    "name": "PATCH /admin/orders/{id}/status — Invalid Back-transition (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 invalid transition', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}/status",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"pending\"\n}"
                        }
                    }
                },
                {
                    "name": "DELETE /admin/orders/{id} — Cancel Order",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Status cancelled', () => pm.expect(pm.response.json().data.status).to.eql('cancelled'));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"cancellation_reason\": \"Customer requested cancellation.\"\n}"
                        }
                    }
                },
                {
                    "name": "DELETE /admin/orders/{id} — Cancel Without Reason (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 missing reason', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders/{{order_id}}",
                        "body": {
                            "mode": "raw",
                            "raw": "{}"
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Deliveries",
            "item": [
                {
                    "name": "GET /admin/deliveries — Flat List",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/deliveries"
                    }
                },
                {
                    "name": "GET /admin/deliveries?month=YYYY-MM — Calendar View",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/deliveries?month=2026-02",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "deliveries"
                            ],
                            "query": [
                                {
                                    "key": "month",
                                    "value": "2026-02"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /admin/deliveries?month=INVALID — Bad Format (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 bad month', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/deliveries?month=02-2026",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "deliveries"
                            ],
                            "query": [
                                {
                                    "key": "month",
                                    "value": "02-2026"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "PATCH /admin/deliveries/{id} — Update Status",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/deliveries/{{delivery_id}}",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"dispatched\",\n  \"scheduled_date\": \"2026-02-25\",\n  \"notes\": \"Driver: Rahim\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Analytics",
            "item": [
                {
                    "name": "GET /admin/analytics/sales",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has total_revenue', () => pm.expect(pm.response.json().data).to.have.property('total_revenue'));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/sales?from=2026-01-01&to=2026-12-31",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "sales"
                            ],
                            "query": [
                                {
                                    "key": "from",
                                    "value": "2026-01-01"
                                },
                                {
                                    "key": "to",
                                    "value": "2026-12-31"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /admin/analytics/sales — Bad Date Range (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 bad range', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/sales?from=2026-12-31&to=2026-01-01",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "sales"
                            ],
                            "query": [
                                {
                                    "key": "from",
                                    "value": "2026-12-31"
                                },
                                {
                                    "key": "to",
                                    "value": "2026-01-01"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "GET /admin/analytics/inventory",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has available/reserved/sold', () => {",
                                    "  const d = pm.response.json().data;",
                                    "  ['available','reserved','sold'].forEach(k => pm.expect(d).to.have.property(k));",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/analytics/inventory"
                    }
                },
                {
                    "name": "GET /admin/analytics/customers",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has total_customers', () => pm.expect(pm.response.json().data).to.have.property('total_customers'));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/analytics/customers"
                    }
                }
            ]
        },
        {
            "name": "Admin — Configuration",
            "item": [
                {
                    "name": "GET /admin/settings — All Settings",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));",
                                    "pm.test('Has cart_lock_duration_minutes', () => {",
                                    "  pm.expect(pm.response.json().data).to.have.property('cart_lock_duration_minutes');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/settings"
                    }
                },
                {
                    "name": "PUT /admin/settings — Bulk Update",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('200 OK', () => pm.response.to.have.status(200));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/settings",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"delivery_fee_default\": \"150\",\n  \"cart_lock_duration_minutes\": \"20\"\n}"
                        }
                    }
                },
                {
                    "name": "PUT /admin/settings — Wrong Type (expect 422)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('422 type mismatch', () => pm.response.to.have.status(422));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{admin_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/settings",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"delivery_fee_default\": \"not-a-number\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "name": "Security / Edge Cases",
            "item": [
                {
                    "name": "Admin Route with Customer Token (expect 403)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('403 Forbidden', () => pm.response.to.have.status(403));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customer_token}}"
                            }
                        ],
                        "url": "{{base_url}}/admin/orders"
                    }
                },
                {
                    "name": "Protected Route Without Token (expect 401)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('401 Unauthenticated', () => pm.response.to.have.status(401));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/profile"
                    }
                },
                {
                    "name": "Rate Limit Test — Hit /login 11 times fast (expect 429)",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Send this 11+ times quickly to trigger 429"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('429 on repeated attempts', () => pm.expect(pm.response.code).to.be.oneOf([422, 429]));"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": "{{base_url}}/login",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"badactor@example.com\",\n  \"password\": \"WrongPass\"\n}"
                        }
                    }
                }
            ]
        }
    ]
}